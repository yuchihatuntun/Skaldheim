### 绪论

#### 课程要求与成绩分布

##### 成绩分布

- 作业 + 课堂测验：占比50%，包含5 - 6次平时作业和1 - 2次课堂测试，且严禁雷同抄袭。
- 期末考试：占比50%，为闭卷考试。

##### 教学安排

数学部分安排18 + 9讲，每讲2学时，总共54学时，其中2学时期中复习，2学时期末复习。

##### 课程助教及联系方式

- 李晓东（博3）：<lixj263@mail2.sysu.edu.cn>，发表领域为MICRO、ISVLSI。
- 钟佰清（博1）：<zhongbq@mail2.sysu.edu.cn>，发表领域为CCD、ISVLSI。
- 黄海秋（硕2）：<huanghq73@mail2.sysu.edu.cn>，发表领域为TCAS - II。

#### 课程参考资料

|序号|书名|作者|译者|出版社|出版时间|
| ---- | ---- | ---- | ---- | ---- | ---- |
|1|《数字集成电路——电路、系统与设计》（第二版）|Jan M. Rabaey，Anantha Chandrakasan，Borivoje Nikolic|周润德|电子工业出版社| - |
|2|《CMOS超大规模集成电路设计》（第四版）|Neil H. E.Weste & David Harris|周润德|电子工业出版社| - |
|3|《纳米CMOS集成电路——从基本原理到专用芯片实现》|Harry Veendrick|周润德|电子工业出版社| - |
|4|《现代VLSI设计：基于IP核的设计（第4版）（英文版）》|Wayne Wolf| - |电子工业出版社| - |
|5|《众核处理器——原理、设计与优化》|李兆麟，王明羽，魏少军| - |清华大学出版社|2021|
|6|《数字集成电路设计实践》|王明羽，虞志益，李兆麟| - |清华大学出版社|2025（拟出版）|

#### 什么是数字集成电路设计

从<span style="font-weight:bold; color:rgb(255, 182, 193)">功能（Function）、逻辑（Logic）、电路（Circuit）到版图（Layout）</span>，依次递进，同时“<span style="background:rgba(163, 218, 252, 0.55)">Verification（验证）</span>”贯穿整个流程，用于确保每个设计阶段的正确性，保障数字集成电路设计能按预期实现功能。

<span style="font-weight:bold; color:rgb(255, 182, 193)">从需求到最终芯片主流程</span>：

按设计与制造的先后顺序，分为10个关键阶段：

1. **Specifications（规格定义）**：明确芯片的核心需求，包括功能、功耗、性能、面积等，是设计的“目标蓝图”。
2. **Architectural Design（架构设计）**：基于规格，规划芯片的整体架构（如模块划分、数据通路等），是高层结构规划。
3. **RTL Coding & Functional Verification（RTL编码与功能验证）**：
   - 用硬件描述语言（HDL，如Verilog/VHDL）编写**寄存器传输级（RTL）代码**，描述“寄存器与数据传输逻辑”；
   - 同时通过“功能验证”，确保RTL代码实现了预期功能。
4. **Logic Synthesis（逻辑综合）**：将RTL代码转换为**门级网表**（由逻辑门、触发器等基本单元组成的电路描述），把抽象的RTL描述映射到具体逻辑单元。
5. **Logic Verification & Testing（逻辑验证与测试）**：验证门级网表的逻辑正确性，确保综合后的电路功能符合预期，还会涉及“可测性设计”（方便后续芯片测试）。
6. **Physical Design（物理设计）**：进入“物理层面”设计，包括**版图系统规划、布局、时钟树生成、布线**等，将逻辑网表转化为“物理版图”。
7. **Physical Verification & Signoff（物理验证与签核）**：对物理版图进行多维度验证（如DRC、LVS、静态时序分析、功耗分析等），验证通过后“签核”，才能进入制造环节。
   - DRC（设计规则检查）：确保版图符合“制造工艺规则”；
   - LVS（版图与网表比对）：确保版图和逻辑网表一致；
   - 静态时序分析/功耗分析：验证时序性能、功耗是否达标。
8. **Fabrication（制造）**：即“流片”，在晶圆厂通过半导体工艺，把版图“制造”成实际的芯片（晶圆上的电路）。
9. **Packaging & Testing（封装与测试）**：将晶圆上的芯片切割、封装，并测试封装后芯片的功能、性能，确保成品合格。
10. **Chip（芯片）**：最终交付的“成品芯片”。

> [!note]前端 - 后端细分流程
> 
> 流程聚焦于“设计阶段的分工”，明确**前端设计（逻辑层面）**与**后端版图设计（物理层面）**的边界与协作：
> 
> - **前端设计**：侧重逻辑层面的设计与验证，包括：
>   - 需求分析与工艺选择：明确需求并选定制造工艺；
>   - 电路与架构设计：对应“Architectural Design”阶段；
>   - 逻辑综合：对应“Logic Synthesis”阶段；
>   - 验证环节：包括**HDL仿真验证**（验证RTL代码功能）、**综合后仿真验证与形式验证**（验证门级网表）。
> 
> - **后端版图设计**：侧重物理层面的版图实现与验证，包括：
>   - 版图系统规划：整体布局与模块分布规划；
>   - 布局：将逻辑单元映射到具体物理位置；
>   - 时钟树生成：设计时钟信号传输网络，保障同步性；
>   - 布线：完成信号线的物理连接；
>   - 流片：对应“Fabrication”阶段；
>   - 验证环节：包括**版图后仿真验证、静态时序分析、功耗分析、DRC、LVS**等物理验证，以及**版图参数提取**（为后仿真提供物理参数）。

#### 集成电路设计方法学发展

**传统电路验证方法**

早期电路验证采用“实验板”方式，但存在明显不足：

- 与实际集成电路的差异大（实验板的环境、器件特性等，和真实芯片场景偏差明显）；
- 无法开展“容差分析”（如器件参数波动对电路的影响）和“极限条件验证”（如温度、电压极值下的电路表现）；
- 验证速度慢，效率低下。

**60 - 70年代的技术进展：Layout DRC + Circuit Simulation**

这一时期，集成电路设计开始借助计算机工具，核心特点是：

- **硬件基础**：依托“16位小型机”（提供计算能力支持）；
- **软件能力**：具备“交互式图形编辑”（方便设计师进行版图绘制）和“设计规则检查（DRC）”（确保版图符合芯片制造的工艺规则），同时结合“电路仿真”，初步实现了**计算机辅助的设计与验证**，提升了设计效率与规范性。

**电路模拟的基本方法**

通过列出“数学形式的电路方程”，再对这些方程进行求解，以此模拟、分析电路的行为特性。

> [!note] SPICE
>
> SPICE（全称 *Simulation Program with Integrated Circuit Emphasis*，意为“侧重于集成电路的仿真程序”）是**世界上第一个电路模拟程序**，由美国加州大学伯克利分校自1970年起开发，为集成电路设计的“仿真验证”奠定了关键基础。
>
> - 1975年：推出第一个版本 **SPICE2G**；
>
> - 1981年：更新至 **SPICE2G6**；
>
> - 在此基础上，后续衍生出多款电路模拟程序，包括 **SPICE3**、**HSPICE**、**PSPICE**，以及1990年出现的 **Fast SPICE** 等（相关参考可查阅资料页码“*Meth.p38,26*”）。


> [!note] 第二代：CAE（Computer Aided Engineering，计算机辅助工程）
>
> 80年代的CAE技术聚焦于三类关键能力的结合：
>
> - **版图布局与布线**（Layout Placement and Routing）：自动化完成芯片版图中元件的布局和线路连接；
> - **逻辑仿真**（Logic Simulation）：对电路逻辑功能进行模拟验证；
> - **版图与原理图比对**（LVS, Layout Versus Schematic）：验证版图是否与设计原理图一致。
>
> 依托32位工作站（相比第一代16位小型机，计算能力更强），能支撑更复杂的设计与仿真任务，形成了完整的“后端CAD工具链”，覆盖从逻辑图输入、逻辑模拟、电路模拟，到自动布局布线、物理设计检查的全流程，大幅提升了集成电路设计的自动化和系统化程度。
>
> **物理检查（Physical Checking）**是保障版图可制造性与设计正确性的关键，包含四类验证：
>
> - **DRC**（Design Rule Check）：设计规则检查，确保版图符合芯片制造工艺规则；
> - **ERC**（Electrical Rule Check）：电气规则检查，确保电路电气特性符合要求（如短路、悬空等问题）；
> - **LPE**（Layout Parameter Extraction）：版图参数提取，从版图中提取电气参数用于后续仿真/验证；
> - **LVS**（Layout Versus Schematic）：版图与原理图比对，验证版图和设计原理图的一致性。

